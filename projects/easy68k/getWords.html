<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Colin Leslie resume website" />
    <meta name="keywords" content="Resume, Colin Leslie, Portfolio, Contact" />
    <meta name="author" content="Colin Leslie" />
    <title>Colin Leslie | Motorola 68k</title>
    <link href="https://fonts.googleapis.com/css?family=Caveat|Open+Sans:400,400i,700" rel="stylesheet">
    <link rel="stylesheet" href="../../css/projects/global-project-styles.css">
    <link rel="stylesheet" href="../../css/projects/PROJECT.css">
    <link rel="stylesheet" href="../../css/global-styles.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="icon" href="../../images/favicon.ico">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129132395-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-129132395-1');
    </script>
  </head>

  <body>

    <!-- Nav Bar -->
    <header>
      <div class="customnavbar">
        <a href="../../index.html">Home</a>
        <a href="../../resume.html">Resume</a>
        <a href="../../portfolio.html">Portfolio</a>
        <div class="customnavBar">


        <div class="customdropdown">
          <button class="customdropbtn" onclick="myFunction()">Contact

          </button>
          <div class="customdropdown-content" id="myDropdown">
            <h4>Reach me at:</h4>
            <h4 id="email"><a href="mailto:colinbleslie@gmail.com">Colinbleslie@gmail.com</a></h4>
            <!-- <button id = "cpy_btn" onclick="copyToClipboard()" title="Copy to Clipboard"><img src = "images/clipboard.png"></button> -->
            <div id="secretInfo" style="display: none;">colinbleslie@gmail.com</div>
            <button type="button" onclick="buttonFunction(this)" id="btnCopy" title="Copy to Clipboard"><img id=clipboardImg src = "../../images/clipboard.png"></button>
          </div>
        </div>
        </div>
      </div>

    </header>

  <script src="../../javascript/navBar.js"></script>
    <!-- Nav Bar -->

<!-- Copy Up to here for new projects -->
<!-- </body>
</html> -->
<div class="container">
<h2>Motorola 68k: Get Words Program</h2>
<p>For a assembly programming class we worked with the Motorola 68000 microprocessor. The Motorola 68k has since ceased production but it was once used in early home computers such as the Macintosh and Commodore Amiga.</p>
<p>Below is a simple program that we made. The program gets a series of words as input from the user, calculates their length and outputs each words length aswell as the sum of the word lengths. A program like this would be completly trival in any high level programming language but in assembly it proves to be a bit more challenging</p>
<br>

<h2 class="code-header">Assembly Code</h2>
<!-- Code -->
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">00001000 Starting Address
Assembler used: EASy68K Editor/Assembler v5.15.04
Created On: 2/10/2017 8:50:58 PM

00000000                             1  *-----------------------------------------------------------
00000000                             2  * Title      :A5Q2
00000000                             3  * Written by :Colin Leslie
00000000                             4  * Date       :Feb 8 2017
00000000                             5  * Description: Takes a list of words and outputs their lengths
00000000                             6  * and the sum of there lengths
00000000                             7  *USES:  D2,d3,d4,d5,A2,A3
00000000                             8  *-----------------------------------------------------------
00001000                             9      ORG    $1000
00001000                            10  START:
00001000                            11
00001000  5246                      12  TOP Add #1,D6               Add 1 progam loop var. Will loop 3 times
00001002  4202                      13      clr.b   d2              Clear registers before looping again
00001004  4203                      14      clr.b   d3
00001006  4204                      15      clr.b   d4
00001008  4205                      16      clr.b   d5
0000100A                            17
0000100A  4EB9 000010D6             18      JSR CR                  Add a carraiage return to seperate loops
00001010                            19
00001010  45F9 0000114B             20       LEA wordLengths,A2      Initalize address registers
00001016  47F9 00001155             21       LEA words,A3
0000101C                            22
0000101C                            23
0000101C  4EB9 0000108C             24      JSR get_words
00001022                            25
00001022                            26
00001022                            27
00001022                            28
00001022                            29      *print word stats
00001022  103C 0011                 30      Move.b  #17,D0          Print word count
00001026  43F9 00001128             31      LEA     wordCountP,A1
0000102C  1203                      32      MOVE.B  D3,D1
0000102E  4E4F                      33      TRAP    #15
00001030  4EB9 000010D6             34      JSR     CR
00001036                            35      *Print word lengths
00001036  103C 000D                 36      Move.B  #13,D0              Print word length msg
0000103A  43F9 00001135             37      LEA     wordLengthP,A1
00001040  4E4F                      38      Trap    #15
00001042                            39
00001042  1A03                      40      move.b  d3,d5           copy word counter
00001044  5345                      41      sub #1,D5               Decrement counter
00001046  4243                      42      clr.w   D3
00001048  121A                      43  print   move.b  (A2)+,D1    Load current digit to d1
0000104A  D601                      44          Add.B   D1,D3       Add current digit to sum
0000104C  103C 0003                 45          MOVE.b  #3,D0
00001050  4E4F                      46          Trap    #15        print digit in list
00001052                            47
00001052  103C 0006                 48          move.b  #6,D0   print comma
00001056  123C 002C                 49          move.b  #44,D1
0000105A  4E4F                      50          TRAP    #15
0000105C  5345                      51          sub #1,d5       Decrement counter
0000105E  4A05                      52          tst.b   d5
00001060  66E6                      53          BNE print
00001062                            54
00001062                            55
00001062  121A                      56          move.b  (A2)+,D1    print last digit in list
00001064  D601                      57          Add.B   D1,D3       Add last digit to sum
00001066  103C 0003                 58          MOVE.b  #3,D0
0000106A  4E4F                      59          Trap    #15
0000106C                            60
0000106C                            61
0000106C                            62  *print charactor sum
0000106C  4EB9 000010D6             63          JSR     CR
00001072  103C 0011                 64          Move.B  #17,D0      Print sum
00001076  43F9 00001143             65          LEA     sumP,A1
0000107C  1203                      66          Move.b  D3,D1
0000107E  4E4F                      67          Trap    #15
00001080                            68
00001080  BC3C 0003                 69          cmp.b   #3,d6       Loop the progam 3 times
00001084  6600 FF7A                 70          BNE     TOP
00001088                            71
00001088  FFFF FFFF                 72      SIMHALT             ; halt simulator
0000108C                            73
0000108C                            74  *-----------------------------------------------------------
0000108C                            75  *get_words
0000108C                            76  *prompts the user to enter a series of words (10 words maximum)
0000108C                            77  *from the keyboard; data entry will be terminated by an empty entry.
0000108C                            78  *
0000108C                            79  *Inputs: A2 (address of words)
0000108C                            80  *Uses:  D3 (word counter)
0000108C                            81  *Outputs: d3(word counter),Words(list of words)
0000108C                            82  *-----------------------------------------------------------
0000108C                            83
0000108C  48E7 0030                 84  get_words           movem.l A2/A3,-(sp) ; save registers
00001090  4A22                      85                      tst.b   -(A2)   Move adress forward 1 byte
00001092                            86
00001092  43F9 000010EC             87                      LEA prompt,A1       Print prompt
00001098  103C 000D                 88                      Move.b  #13,D0
0000109C  4E4F                      89                      TRAP    #15
0000109E                            90
0000109E  B63C 0009                 91  nextWord            cmp.b   #9,D3      if wordcount &gt;9 print list
000010A2  6E00 002C                 92                      BGT     Exit
000010A6  103C 0005                 93                      MOVE.B  #5,D0       Read a char from keyboard into d1
000010AA  4E4F                      94                      TRAP    #15
000010AC  4204                      95                      clr.b   d4          Reset letter counter
000010AE  B23C 000D                 96                      cmp.b   #13,D1      See if char is CR
000010B2  6700 001C                 97                      BEQ     Exit
000010B6  4A1A                      98                      tst.b     (A2)+       Increment a2
000010B8  16C1                      99                      Move.b  D1,(A3)+    Move charator to A3
000010BA  5204                     100                      ADD.B   #1,D4       Increment letter counter
000010BC  1484                     101                      MOVE.b  D4,(A2)
000010BE  5203                     102                      ADD.B   #1,D3       Increment word counter
000010C0                           103
000010C0                           104
000010C0                           105  *Loop until CR is entered
000010C0  4E4F                     106  get_word    TRAP    #15         Get next charactor
000010C2                           107
000010C2  B23C 000D                108              cmp.b   #13,D1      See if char is CR
000010C6  67D6                     109              BEQ     nextWord
000010C8  16C1                     110              Move.b  D1,(A3)+    Move charactor to a1
000010CA  5204                     111              ADD.B   #1,D4       Increment letter counter
000010CC  1484                     112              MOVE.b  D4,(A2)
000010CE  60F0                     113              BRA     get_word    Loop
000010D0                           114
000010D0                           115  Exit
000010D0  4CDF 0C00                116              movem.l (sp)+,A2/A3 Restore registers
000010D4                           117
000010D4  4E75                     118              rts
000010D6                           119
000010D6                           120
000010D6                           121  *-------------------------------------------------------------------------
000010D6                           122  *Carriage return uses A1,D0
000010D6                           123  *Prints a carriage return
000010D6                           124  *Uses: A1(Restores),D0 (Trap task #)
000010D6                           125  *-------------------------------------------------------------------------
000010D6                           126
000010D6  48E7 0040                127  CR  movem.l A1,-(sp)    ; save register
000010DA  43F9 00001149            128      LEA  blank,A1
000010E0  103C 000D                129      MOVE.B  #13,D0
000010E4  4E4F                     130      TRAP    #15
000010E6  4CDF 0200                131      movem.l (sp)+,A1    ; restore register
000010EA  4E75                     132      RTS
000010EC                           133
000010EC                           134
000010EC                           135
000010EC= 45 6E 74 65 72 20 ...    136  prompt  DC.B    &#39;Enter a series of words (Max 10) followed by an empty entry&#39;,0
00001128= 57 6F 72 64 20 63 ...    137  wordCountP  DC.b    &#39;Word count: &#39;,0
00001135= 57 6F 72 64 20 6C ...    138  wordlengthP DC.B    &#39;Word length: &#39;,0
00001143= 53 75 6D 3A 20 00        139  sumP        DC.B    &#39;Sum: &#39;,0
00001149= 20 00                    140  blank       DC.b    &#39; &#39;,0
0000114B                           141  wordLengths DS.B    10
00001155                           142  words       DS.B    75
000011A0                           143
000011A0                           144   END    START        ; last line of source

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
BLANK               1149
CR                  10D6
EXIT                10D0
GET_WORD            10C0
GET_WORDS           108C
NEXTWORD            109E
PRINT               1048
PROMPT              10EC
START               1000
SUMP                1143
TOP                 1000
WORDCOUNTP          1128
WORDLENGTHP         1135
WORDLENGTHS         114B
WORDS               1155
</pre></div>
<!-- Code -->

<h2>Sample Output</h2>
<!-- HTML generated using hilite.me -->
<div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></td><td><pre style="margin: 0; line-height: 125%">Enter a series of words (Max 10) followed by an empty entry
cat
house
go
dogs
Word count: 4
Word length:
3,5,2,4
Sum: 14


Enter a series of words (Max 10) followed by an empty entry
mary
had
a
little
lamb
her
Word count: 6
Word length:
4,3,1,6,4,3
Sum: 21


Enter a series of words (Max 10) followed by an empty entry
one
two
three
four
five
six
seven
eight
nine
ten
Word count: 10
Word length:
3,3,5,4,4,3,5,5,4,3
Sum: 39
</pre></td></tr></table></div>

<!-- Download -->
<div class="container">
  <h2>Download</h2>
  <a class="btn-lg btn-primary" href="http://www.filedropper.com/motorola68ksampleprogram" role="button">Download zip (5.75 KB)</a>
</div>
<!-- Download -->

<!-- Footer -->
<footer>
  <div class="content-wrap">

    <p>Copyright 2023. Colin Leslie</p>
  </div>
</footer>
<!-- Footer -->
</div>

</body>
</html>
